var Engine3D=function(){function Engine3D(focal_length,win_width,win_height){this.focalLength=focal_length;this.center={x:win_width/2,y:win_height/2};this.vertices=[];this.camera={position:{x:0,y:0,z:0},rotation:{x:0,y:0}}}Engine3D.prototype.newVertex=function(position){this.vertices.push(position)};Engine3D.prototype.translateVertex=function(vertex,translation){var translated={x:vertex.x+translation.x,y:vertex.y+translation.y,z:vertex.z+translation.z};return translated};Engine3D.prototype.projectVertex=function(vertex){var projected={x:vertex.x/vertex.z*this.focalLength+this.center.x,y:vertex.y/vertex.z*this.focalLength+this.center.y};this.projectedVertices.push(projected)};Engine3D.prototype.projectVertices=function(){this.projectedVertices=[];for(var index=0;index<this.vertices.length;index++){var vertex=this.vertices[index];var translated=this.translateVertex(vertex,{x:-this.camera.position.x,y:-this.camera.position.y,z:-this.camera.position.z});this.projectVertex(vertex)}};Engine3D.prototype.drawVertices=function(window){for(var index=0;index<this.projectVertices.length;index++){var vertex=this.projectVertices[index];window.circle("red",vertex.x,vertex.y,2)}};return Engine3D}();var GameWindow=function(){function GameWindow(width,height){this.resolutionScale=1;this.window=document.createElement("canvas");this.ctx=this.window.getContext("2d");this.window.width=width;this.window.height=height;document.body.appendChild(this.window);this.window.style.backgroundColor="black";this.window.style.margin="auto";this.window.style.padding="0";this.window.style.display="block";this.window.style.position="absolute";this.window.style.left="0";this.window.style.right="0";this.window.style.top="0";this.window.style.bottom="0";this.window.style.border="12px solid #404040";this.window.style.borderRadius="12px";this.window.style.height="90%";this.window.style.imageRendering="auto";this.window.style.imageRendering="crisp-edges";this.window.style.imageRendering="pixelated";this.font="32px Arial"}GameWindow.prototype.fill=function(color){this.ctx.fillStyle=color;this.ctx.fillRect(0,0,this.window.width*this.resolutionScale,this.window.height*this.resolutionScale)};GameWindow.prototype.line=function(color,x1,y1,x2,y2,width){this.ctx.strokeStyle=color;this.ctx.lineWidth=width*this.resolutionScale;this.ctx.moveTo(x1*this.resolutionScale,y1*this.resolutionScale);this.ctx.lineTo(x2*this.resolutionScale,y2*this.resolutionScale);this.ctx.stroke()};GameWindow.prototype.rect=function(color,x,y,width,height){this.ctx.fillStyle=color;this.ctx.fillRect(x*this.resolutionScale,y*this.resolutionScale,width*this.resolutionScale,height*this.resolutionScale)};GameWindow.prototype.pixel=function(color,x,y){this.ctx.fillStyle=color;this.ctx.fillRect(x*this.resolutionScale,y*this.resolutionScale,1*this.resolutionScale,1*this.resolutionScale)};GameWindow.prototype.circle=function(color,x,y,r){this.ctx.fillStyle=color;this.ctx.beginPath();this.ctx.arc(x*this.resolutionScale,y*this.resolutionScale,r*this.resolutionScale,0,2*Math.PI);this.ctx.fill()};GameWindow.prototype.arc=function(color,x,y,r,start_a,end_a,width){this.ctx.strokeStyle=color;this.ctx.lineWidth=width*this.resolutionScale;this.ctx.beginPath();this.ctx.arc(x*this.resolutionScale,y*this.resolutionScale,r*this.resolutionScale,start_a,end_a);this.ctx.stroke()};GameWindow.prototype.triangle=function(color,x1,y1,x2,y2,x3,y3){this.ctx.fillStyle=color;this.ctx.beginPath();this.ctx.moveTo(x1,y1);this.ctx.lineTo(x2,y2);this.ctx.lineTo(x3,y3);this.ctx.closePath();this.ctx.fill()};GameWindow.prototype.text=function(color,x,y,text){this.ctx.fillStyle=color;this.ctx.font=this.font;this.ctx.fillText(text,x,y)};return GameWindow}();var InputHandler=function(){function InputHandler(){}InputHandler.prototype.getAxis=function(positive_key,negative_key){var axis_value=0;if(CoffeeKeys[positive_key]==true&&CoffeeKeys[negative_key]==true){axis_value=0}else if(CoffeeKeys[positive_key]==true){axis_value=1}else if(CoffeeKeys[negative_key]==true){axis_value=-1}else if(CoffeeKeys[positive_key]==false&&CoffeeKeys[negative_key]==false){axis_value=0}return axis_value};InputHandler.prototype.getVector=function(positive_x,negative_x,positive_y,negative_y){var vector={};var axis_x=this.getAxis(positive_x,negative_x);var axis_y=this.getAxis(positive_y,negative_y);vector={x:axis_x,y:axis_y};return vector};return InputHandler}();var CoffeeKeys={};document.addEventListener("keydown",function(event){CoffeeKeys[event.key]=true});document.addEventListener("keyup",function(event){CoffeeKeys[event.key]=false});var MathFunctions=function(){function MathFunctions(){}MathFunctions.prototype.randRange=function(min,max){return Math.random()*(max-min)+min};MathFunctions.prototype.normalize=function(mag_x,mag_y){var length=Math.sqrt(Math.pow(mag_x,2)+Math.pow(mag_y,2));var new_vector={x:mag_x/length,y:mag_y/length};return new_vector};MathFunctions.prototype.getDistance=function(x1,y1,x2,y2){var distance=Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2));return distance};return MathFunctions}();var SpriteObject=function(){function SpriteObject(path,width,height){this.width=width;this.height=height;this.image=new Image(this.width,this.height);this.image.src=path}SpriteObject.prototype.draw=function(ctx,x,y){ctx.drawImage(this.image,x,y)};return SpriteObject}();
